# 10/17

# [ëª©ì°¨]ğŸ“

[1. Python Imaging Library](#python-imaging-library-ğŸ’­)

[2. Django Message Framwork](#django-message-framwork-ğŸ’­)

<br>

## Python Imaging Library ğŸ’­

### ì¸ë„¤ì¼ ë§Œë“¤ê¸°(PILKit, imagekit)

- ì›¹/ì•±ì—ì„œ ë§ì´ ì“°ì´ëŠ” ì´ë¯¸ì§€ í¬ë§·

<br>

- ì´ë¯¸ì§€ ìš©ëŸ‰ì„ ì¤„ì´ë ¤ë©´ ë©”íƒ€ë°ì´í„°ë¥¼ ì œê±°í•˜ê³ , ì ì ˆí•œ í¬ê¸°ë¡œ ë¦¬ì‚¬ì´ì§•, ê°€ê¸‰ì  JPG í¬ë§· ì‚¬ìš©
  - JPEG: ì†ì‹¤ì••ì¶• í¬ë§·, íŒŒì¼ í¬ê¸°ê°€ ì‘ìŒ, ì••ì¶•ë¥ ì€ 60~80%ê°€ ì ì ˆ, ì‚¬ì§„ ì´ë¯¸ì§€ ìœ ìš©
  - PNG: íˆ¬ëª…ì±„ë„ ì§€ì›, ë¬¸ìê°€ ìˆëŠ” ì´ë¯¸ì§€ ìœ ìš©
  - GIF: 256ìƒ‰ ì§€ì›, ì›€ì§¤ ì´ë¯¸ì§€
- ì´ë¯¸ì§€ ì—…ë¡œë“œë¥¼ ìœ„í•´ pip install Pillow Libraryë¥¼ ì„¤ì¹˜
- https://pillow.readthedocs.io/en/stable/
- views.pyì—ì„œ ImageFieldë¥¼ ì •ì˜

```py
class Article(models.Model):
  title = models.CharField(max_length=20)
  image = models.ImageField(upload_to="images/", blank=True)
```

```html
<-- htmlì—ì„œëŠ” enctype ì„¤ì • -->
<form method="post" enctype="multipart/form-data"></form>
```

```py
# views.pyì—ì„œ request.FILES ìš”ì²­ì„ ë°›ìŒ
class ArticleForm(request.POST, request.FILES)
```

```py
# Settings.py
# MEDIA_URL
MEDIA_ROOT = BASE_DIR / 'images'
MEDIA_URL = '/media/'
# MEDIA_ROOT
```

```py
# urls.py
urlpatterns = [

] + static(settings.MEDIA_URL, document_root=settings.MEDAI_ROOT)
```

### **ì´ë¯¸ì§€ Resizing**

- ì‹¤ì œ ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì„œë²„ì— ê·¸ëŒ€ë¡œ ì—…ë¡œë“œ í•˜ëŠ” ê²ƒì€ ì„œë²„ì˜ ë¶€ë‹´ì´ í¼
- pip install django-imagekit

### **setting.py**

- settings.py ì•±ë“±ë¡ì— 'imagekit'ì„ ì‚½ì…
- https://pypi.org/project/django-imagekit/

```py
from django.db import models
from imagekit.models import ImageSpecField
from imagekit.processors import ResizeToFill

class Profile(models.Model):
    avatar = models.ImageField(upload_to='avatars')
    avatar_thumbnail = ImageSpecField(source='avatar',
                                      processors=[ResizeToFill(100, 50)],
                                      format='JPEG',
                                      options={'quality': 60})
```

## Django Message Framwork ğŸ’­

### The messages framework

- Djangoì—ëŠ” messages frameworkê°€ ë‚´ì¥ë˜ì–´ ìˆìŒ

<br>

- massagesë¥¼ views ì™€ templatesì—ì„œ ì‚¬ìš©í•˜ê¸°

```py
# ë¨¼ì € messagesë¥¼ import í•¨
from django.contrib import messages

messages.add_message(request, messages.INFO, 'Hello world.')

# ex
def create(request):
  if request.method == 'POST':
    messages.success(request, 'ê¸€ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.')
    return redirect('articles:index')

# message íƒœê·¸ëŠ” ì•„ë˜ì™€ ê°™ìŒ
messages.debug(request, '%s SQL statements were executed.' % count)
messages.info(request, 'Three credits remain in your account.')
messages.success(request, 'Profile details updated.')
messages.warning(request, 'Your account expires in three days.')
messages.error(request, 'Document deleted.')
```

- massagesë¥¼ htmlì—ì„œ ì‚¬ìš©í•˜ê¸°

```django
{% if messages %} {% for message in messages %}
<div class="alert alert-{{ message.tags }}">{{ message }}</div>
{% endfor %} {% endif %}
```
